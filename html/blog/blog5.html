<html>
  <head>
    <link rel="stylesheet" href="..\..\css\style.css">
  </head>
  <header class = "header">
    <nav>
      <ul class="header-menu">
          <img class="header_logo" src="..\..\img\home\header.png" alt="" width="1028" height="206">
          <li class="header-menu__item"><a href="..\..\index.html" style="text-decoration:none"><font color=#0B1783 face="arialblack">ホーム</font></a></li>
          <li class="header-menu__item"><a href="..\blog\main.html" style="text-decoration:none"><font color=#0B1783 face="arialblack">ブログ</font></a></li>
          <li class="header-menu__item"><a href="..\news\main.html" style="text-decoration:none"><font color=#0B1783 face="arialblack">最新情報</font></a></li>
          <li class="header-menu__item"><a href="..\product\main.html" style="text-decoration:none"><font color=#0B1783 face="arialblack">製品</font></a></li>
          <li class="header-menu__item"><a href="..\open\main.html" style="text-decoration:none"><font color=#0B1783 face="arialblack">技術公開</font></a></li>
          <li class="header-menu__item"><a href="..\address\main.html" style="text-decoration:none"><font color=#0B1783 face="arialblack">お問い合わせ</font></a></li>
      </ul>
    </nav>
  </header>
  <body bgcolor="#ffffff">
    <hr color="#0B1783"></hr>
    <div class="bloghome">
      <div class="top" style="width:70vw">
        <div class="newblog">
          <img src="../../img/blog/blog5/p1.png" alt="" style="width: 90%;display:block;margin:auto;margin: 0 0 0 20px;">
          <p class="title">ついにロボットが動いた！</p>
          <p class="day">2024/8/7　🖊たびと</p>
          <hr>
          <p class="subtitle">
            今回のスポンサー
          </p>
          <p class="text">
            前回と同様、今回のモータードライバの作成も基板の製造を行う「JLCPCB」にサポートしていただきました。JLCPCBは中国のプリント基板を製造する企業で，基板を安く注文でき，早く到着するのが特徴です．
            とくに今回は，いそぎでの発注だったためとても早く製造していただき助かりました．<br>
            ↓興味がある方はタップして日本語版ホームページへ↓
            <a href="https://jlcpcb.com/jp/"><img src="../../img/blog/blog5/p3.png" alt="" style="width: 90%;display:block;margin:auto;margin: 0 0 0 20px;"></a>
            <a href="https://jlcpcb.com/jp/"><img src="../../img/blog/blog5/p2.png" alt="" style="width: 90%;display:block;margin:auto;margin: 10px 0 10px 20px;"></a>
          </p>
          <hr>
          <p class="text">
            こんにちはたびとです．知っている方も多いと思いますが，僕はこんなロボットをチームで制作している大学生です．
            <img src="../../img/blog/blog5/p4.png" alt="" style="width: 90%;display:block;margin:auto;margin: 10px 0 10px 20px;">
            今回は，ロボットの基板を改良し，発注した話です．前回のブログでは，最後以下のように締めくくりました．
            <img src="../../img/blog/blog5/p9.png" alt="" style="width: 90%;display:block;margin:auto;margin: 10px 0 10px 20px;">
            そう，じつは結局前回はうまくモーターがうまく動かなかったため，ロボットを走らせることができませんでした．
            じつはこの時起きていた問題としては，<br>
            <strong>・電圧がそもそも12Vじゃない</strong><br>
            <strong>・マイコンがうまく動作していない</strong><br>
            これらを解消するために，「電源基板」，「モータードライバー基板」の改良が必要となりました．
          </p><br>
          <p class="subtitle">
            電源基板の改良
          </p>
          <p class="text">
            じつは前回の発注後，なぜかモータードライバに6Vしかかかっていないことに気が付きました．そこで，電源基板を調べたところ，電池が「並列」に接続されていました．
            つまり，6Vの並列接続で6Vしかながれていなかったのです．このままではロボットが動かせないため，早急の改良が必要となりました．
            <img src="../../img/blog/blog5/p8.png" alt="" style="width: 90%;display:block;margin:auto;margin: 10px 0 10px 20px;">
            改良後の到着した基板がこちらです．表面実装のサービスを利用させていただきました．じつはJLCPCBは，部品の在庫も豊富なので，自分の利用したい部品も意外とあったりするのでとても便利です．
            中の配線を変えただけですので見た目に変化はありません．
            <img src="../../img/blog/blog5/p5.png" alt="" style="width: 90%;display:block;margin:auto;margin: 10px 0 10px 20px;">
            ちゃんとこのように直列接続に変えました．そして12Vをしっかり得ることができました．
          </p><br>
          <p class="subtitle">
            モータードライバーの改良
          </p>
          <p class="text">
            モーターが回らないという問題は不明ですが，様々な条件下でモーターを回した結果，原因がモータードライバーに回転の指令を送るマイコンにあることがわかりました．
            また，マイコンをブレッドボードで外部から接続するとなぜかうまく動きました．あまり回路について詳しくないため原因を特定することができなかったのですが，もしかしたら外部にブレッドボードを接続したときの抵抗がよい働きをしているのではと考えました．
            そこで，モーター制御用の8本の信号線に抵抗を接続してみました．届いた基盤は以下の写真です．
            <img src="../../img/blog/blog5/p6.png" alt="" style="width: 90%;display:block;margin:auto;margin: 10px 0 10px 20px;">
            結局，問題解決には至りませんでしたが，１つの可能性をつぶすことができました．ところで，これ以上マイコンを格闘していてはきりがないので使用するマイコンを変えてみることにしました．
            それまでロボットに使用していたマイコンは自作のATmega32U4ボードだったのですが，違うマイコンを探しているととてもいいのを見つけました！それがこちらです．
            <img src="../../img/blog/blog5/p10.png" alt="" style="width: 90%;display:block;margin:auto;margin: 10px 0 10px 20px;">
            RP2040のマイコンボードです．そしてなぜ，これを選んだのかというとピン配置にあります．じつはこのマイコンボード以前使っていた自作マイコンボードと電源のピンの位置が一致しているのです．
            つまり，基板を変えることなく，そのままたださすだけで使えてしまうのです．しかも，RP2040はこのロボットを制御するメインのマイコンでもあるため扱いには慣れています．神様ありがとうTT
            <img src="../../img/blog/blog5/p7.png" alt="" style="width: 90%;display:block;margin:auto;margin: 10px 0 10px 20px;">
            また以前のマイコンで使用していたUARTの位置，PWMの位置ですべてこのマイコンは同じ動作をすることができます．RP2040はいろんなピンでPWMが出力できるのでほんとすごいです！
          </p><br>
          <p class="subtitle">
            ついにロボットが動いた！
          </p>
          <blockquote class="twitter-tweet"><p lang="ja" dir="ltr">だいぶスムーズに追跡してる <a href="https://t.co/Oc69NpNaQE">pic.twitter.com/Oc69NpNaQE</a></p>&mdash; たびと！🐙ー定理 (@tabito1419) <a href="https://twitter.com/tabito1419/status/1811375544094851170?ref_src=twsrc%5Etfw">July 11, 2024</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
          <p class="text">
            いやーやっとロボットが動きました！モーターを動かすプログラムを構築するのは少し大変でした！ロボットをスムーズに動かせるよう，モーターの速度，進む方向を指定すると計算してモーターを回してくれる関数も作りました．今からロボットをどんどん強くしていきたいと思います！
            また今年はPD制御に初挑戦しました．関数に入れるだけなので特別複雑なことはしていませんが，すごくきれいに動いてくれてとてもよかったです．
          </p><br>
          <blockquote class="twitter-tweet"><p lang="ja" dir="ltr">微分ゲイン下げたらもっと良くなったよー <a href="https://t.co/0kXmpiO0VV">pic.twitter.com/0kXmpiO0VV</a></p>&mdash; たびと！🐙ー定理 (@tabito1419) <a href="https://twitter.com/tabito1419/status/1820429642282738006?ref_src=twsrc%5Etfw">August 5, 2024</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><br>
          <p class="subtitle">
            最後に
          </p>
          <p class="text">
            ロボットの開発は大学での勉強と平行して行っているため，余裕のある時間は２週間ほどでした．こんかいもJLCPCBにサポートしていただき，すぐに納品していただきとても助かりました．みなさんも，ぜひ基板製造を行っているJLCPCBでプリント基板を注文してみてくださいね．
            ↓ホームページへ↓
            <a href="https://jlcpcb.com/jp/"><img src="../../img/blog/blog5/p2.png" alt="" style="width: 90%;display:block;margin:auto;margin: 10px 0 10px 20px;"></a>
          </p><br>
        </div>
      </div>
      <div class="menu">
        <a href="blog1.html" style="text-decoration:none;">
          <div class="con">
            <div>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1.5vw;margin-top:auto;margin-bottom:auto;color:#000000;">ホームページを新しくしました！</p>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1vw;margin-top:auto;margin-bottom:auto;color:#aaaaaa">2024/2/5</p>
            </div>
            <img src="../../img/blog/blog1/p1.png" alt="" style="width: 30%;display:block;margin:auto;">
          </div>
        </a>
        <hr style="color:#000000;">
        <a href="blog2.html" style="text-decoration:none;"><!--横のメニュー1ブロック-->
          <div class="con">
            <div>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1.5vw;margin-top:auto;margin-bottom:auto;color:#000000;">Raspberry PI picoの自作</p>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1vw;margin-top:auto;margin-bottom:auto;color:#aaaaaa">2024/4/15</p>
            </div>
            <img src="../../img/blog/blog2/p1.png" alt="" style="width: 30%;display:block;margin:auto;">
          </div>
        </a>
        <hr style="color:#000000;">
        <a href="blog3.html" style="text-decoration:none;"><!--横のメニュー1ブロック-->
          <div class="con">
            <div>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1.5vw;margin-top:auto;margin-bottom:auto;color:#000000;">JLCPCBのCNCサービスでロボット機体製作</p>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1vw;margin-top:auto;margin-bottom:auto;color:#aaaaaa">2024/6/1</p>
            </div>
            <img src="../../img/blog/blog3/p1.png" alt="" style="width: 30%;display:block;margin:auto;">
          </div>
        </a>
        <hr style="color:#000000;">
        <a href="blog4.html" style="text-decoration:none;"><!--横のメニュー1ブロック-->
          <div class="con">
            <div>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1.5vw;margin-top:auto;margin-bottom:auto;color:#000000;">モータードライバの自作</p>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1vw;margin-top:auto;margin-bottom:auto;color:#aaaaaa">2024/6/9</p>
            </div>
            <img src="../../img/blog/blog4/p1.png" alt="" style="width: 30%;display:block;margin:auto;">
          </div>
        </a>
        <hr style="color:#000000;">
        <a href="blog5.html" style="text-decoration:none;"><!--横のメニュー1ブロック-->
          <div class="con">
            <div>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1.5vw;margin-top:auto;margin-bottom:auto;color:#000000;">ついにロボットが動いた！</p>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1vw;margin-top:auto;margin-bottom:auto;color:#aaaaaa">2024/8/7</p>
            </div>
            <img src="../../img/blog/blog5/p1.png" alt="" style="width: 30%;display:block;margin:auto;">
          </div>
        </a>
        <hr style="color:#000000;">
        <a href="blog6.html" style="text-decoration:none;"><!--横のメニュー1ブロック-->
          <div class="con">
            <div>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1.5vw;margin-top:auto;margin-bottom:auto;color:#000000;">ロボットが進化！</p>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1vw;margin-top:auto;margin-bottom:auto;color:#aaaaaa">2024/9/18</p>
            </div>
            <img src="../../img/blog/blog6/p1.png" alt="" style="width: 30%;display:block;margin:auto;">
          </div>
        </a>
        <hr style="color:#000000;">
        <a href="blog7.html" style="text-decoration:none;"><!--横のメニュー1ブロック-->
          <div class="con">
            <div>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1.5vw;margin-top:auto;margin-bottom:auto;color:#000000;">ドリブラー対応フレームへ</p>
              <p style="margin: 0 0 0 20px;padding: 0;font-weight: bold;font-size: 1vw;margin-top:auto;margin-bottom:auto;color:#aaaaaa">2024/11/20</p>
            </div>
            <img src="../../img/blog/blog7/p1.jpg" alt="" style="width: 30%;display:block;margin:auto;">
          </div>
        </a>
        <hr style="color:#000000;">
      </div>
    </div>
  </body>
</html>
